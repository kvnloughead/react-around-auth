{"version":3,"sources":["images/icons/header-logo.svg","images/checkmark.svg","images/redX.svg","components/HeaderLinks.js","components/Header.js","components/ProtectedRoute.js","contexts/CurrentUserContext.js","components/Card.js","components/PopupWithForm.js","components/PopupWithImage.js","components/Main.js","components/Footer.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/InfoToolTip.js","components/App.js","serviceWorker.js","index.js","utils/Auth.js"],"names":["module","exports","HeaderLinks","loggedIn","userEmail","handleSignOut","className","onClick","to","Header","src","headerLogo","alt","ProtectedRoute","Component","component","props","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwned","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","key","style","backgroundImage","link","onCardClick","aria-label","onCardDelete","name","onCardLike","length","PopupWithForm","isOpen","startsWith","type","onClose","title","id","action","noValidate","onSubmit","children","PopupWithImage","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","onCloseButtons","value","selectedCard","Footer","api","options","this","baseUrl","headers","fetch","then","res","ok","json","method","body","JSON","stringify","cardId","authorization","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","minLength","maxLength","required","onChange","target","autoComplete","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","ref","AddPlacePopup","setTitle","setLink","onAddNewCard","Login","handleLogin","setUserEmail","history","useHistory","email","setEmail","password","setPassword","handleSubmit","auth","authorize","data","Error","token","push","catch","err","console","log","message","Register","handleToolTip","resetForm","register","error","localStorage","getItem","InfoToolTip","mode","checkmark","redX","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isInfoToolTipOpen","setIsInfoToolTipOpen","setCards","setSelectedCard","setCurrentUser","setLoggedIn","tooltipMode","setTooltipMode","closeAllPopups","getContent","getUserInfo","getCardList","Provider","removeItem","exact","path","setAvatar","current","setUserInfo","addNewCard","newCard","updateLikes","newCards","c","deleteCard","filter","from","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","BASE_URL","Acccept","identifier","setItem","Accept","Authorization","Promise","reject","status"],"mappings":"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","file":"static/js/main.64d01ff4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/header-logo.71ad3aff.svg\";","module.exports = __webpack_public_path__ + \"static/media/checkmark.75df9ada.svg\";","module.exports = __webpack_public_path__ + \"static/media/redX.db56ee32.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction HeaderLinks({ loggedIn, userEmail, handleSignOut }) {\n  return (\n    <>\n      {loggedIn && (\n        <ul className='header__links'>\n          <li className='header__email'>{userEmail}</li>\n          <li>\n            <Link className='header__link' onClick={handleSignOut} to='/signin'>\n              Log out\n            </Link>\n          </li>\n        </ul>)}\n    </>\n  );\n}\n\nexport default HeaderLinks;\n","import React from 'react';\nimport HeaderLink from './HeaderLinks.js'\nimport headerLogo from '../images/icons/header-logo.svg';\n\nfunction Header({ userEmail, loggedIn, handleSignOut }) {\n  return (\n    <header className=\"header\">\n      <img\n        className=\"header__logo\"\n        src={headerLogo}\n        alt=\"Around the U.S. Logo\"\n      />\n      <HeaderLink loggedIn={loggedIn} userEmail={userEmail} handleSignOut={handleSignOut}/>\n    </header>\n  )\n}\n\nexport default Header; ","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to='/signin' />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwned = currentUser && (props.card.owner._id === currentUser._id);\n  const cardDeleteButtonClassName = (\n    `place__delete-btn ${!isOwned && 'place__delete-btn_hidden'}`\n  );\n\n  const isLiked = currentUser && props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = `place__like-btn ${isLiked && 'place__like-btn_clicked'}`;\n\n  return (\n    <li key={props.card._id} className=\"place\">\n      <div\n        className=\"place__image\"\n        style={{ backgroundImage: `url(${props.card.link})` }}\n        onClick={() => {\n          props.onCardClick(props.card);\n        }}\n      ></div>\n      <button\n        className={cardDeleteButtonClassName}\n        aria-label=\"delete-card\"\n        onClick={() => {\n          props.onCardDelete(props.card);\n        }}\n      ></button>\n      <div className=\"place__footer\">\n        <h2 className=\"place__name\">{props.card.name}</h2>\n        <div className=\"place__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            aria-label=\"like-or-unlike-card\"\n            onClick={() => {\n              props.onCardLike(props.card);\n            }}\n          ></button>\n          <p className=\"place__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <>\n      <div\n        className={\n          'popup__overlay' +\n          (props.isOpen && !props.name.startsWith('sign')\n            ? ' popup__overlay_visible'\n            : '')\n        }\n      ></div>\n      <div\n        className={\n          `popup__container popup__container_type_${props.name}` +\n          (props.isOpen ? ' popup__container_visible' : '') +\n          (props.name.startsWith('sign') ? ' splash-page' : '')\n        }\n      >\n        <button\n          className={\n            'button button_action_close' +\n            (props.name.startsWith('sign') ? ' button_hidden' : '')\n          }\n          type='reset'\n          aria-label={`close-${props.name}-modal`}\n          onClick={props.onClose}\n        ></button>\n        <h2 className={props.name.startsWith('sign') ? 'splash-page__title' : 'popup__title'}>{props.title}</h2>\n        <form\n          id={`${props.name}-form`}\n          name={`${props.name}Form`}\n          className='popup__form'\n          action='#'\n          noValidate\n          onSubmit={props.onSubmit}\n        >\n          {props.children}\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\n\nfunction PopupWithImage(props) {\n  return (\n    <>\n      <div\n        className={\n          \"popup__overlay\" + (props.card ? \" popup__overlay_visible\" : \"\")\n        }\n      ></div>\n      <figure\n        className={\n          \"popup__image-container popup__container_type_image\" +\n          (props.card ? \" popup__image-container_visible\" : \"\")\n        }\n      >\n        <button\n          className=\"button button_action_close\"\n          type=\"reset\"\n          aria-label=\"close-image-popup\"\n          onClick={props.onClose}\n        ></button>\n        <img\n          src={props.card ? props.card.link : \"\"}\n          alt={props.card ? props.card.title : \"\"}\n          className=\"popup__image\"\n        />\n        <figcaption className=\"popup__image-caption\">\n          {props.card ? props.card.title : \"\"}\n        </figcaption>\n      </figure>\n    </>\n  );\n}\n\nexport default PopupWithImage;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport PopupWithImage from \"./PopupWithImage\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div>\n          <img\n            src={currentUser && currentUser.avatar}\n            alt=\"Avatar\"\n            className=\"profile__image\"\n            onClick={props.onEditAvatar}\n          />\n          <button\n            className=\"button button_action_change-avatar\"\n            aria-label=\"open-change-avatar-modal\"\n          ></button>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__text\">\n            <h2 className=\"profile__name\">{currentUser && currentUser.name}</h2>\n            <p className=\"profile__job\">{currentUser && currentUser.about}</p>\n          </div>\n          <button\n            className=\"button button_action_edit\"\n            aria-label=\"open-edit-profile-modal\"\n            onClick={props.onEditProfile}\n          ></button>\n        </div>\n        <button\n          className=\"button button_action_add\"\n          aria-label=\"open-new-card-modal\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n\n      <div className=\"places\">\n        <ul className=\"places__grid\">\n          {props.cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </ul>\n      </div>\n\n      <PopupWithForm\n        name=\"delete\"\n        title=\"Are you sure?\"\n        isOpen={false}\n        onClose={props.onCloseButtons}\n      >\n        <button\n          className=\"button button_action_submit\"\n          type=\"submit\"\n          value=\"Save\"\n          aria-label=\"confirm-delete-card\"\n        >\n          Yes\n        </button>\n      </PopupWithForm>\n\n      <PopupWithImage\n        onClose={props.onCloseButtons}\n        card={props.selectedCard}\n      />\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Around The U.S.</p>\n    </footer>\n  )\n}\n\nexport default Footer;","class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  getCardList() {\n    \n    return fetch(this.baseUrl + \"/cards\", {\n      headers: this.headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  getUserInfo() {\n    return fetch(this.baseUrl + \"/users/me\", {\n      headers: this.headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  setAvatar(link) {\n    return fetch(this.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: link,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  setUserInfo({ name, about }) {\n    return fetch(this.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  addNewCard({ title, link }) {\n    return fetch(this.baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: title,\n        link,\n      }),\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  deleteCard(cardId) {\n    return fetch(this.baseUrl + `/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    });\n  }\n\n  updateLikes(cardId, isLiked) {  \n    const method = isLiked ? \"DELETE\" : \"PUT\";\n    return fetch(\n      this.baseUrl + `/cards/likes/${cardId}`,\n      {\n        method: method,\n        headers: this.headers,\n      }\n    ).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-2\",\n  headers: {\n    authorization: \"dc340326-95ec-4474-9060-e6102316f742\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","import React from \"react\";\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n\n  React.useEffect(() => {\n    setName(currentUser && currentUser.name);\n    setDescription(currentUser && currentUser.about);\n  }, [currentUser]);\n\n\n  function handleNameChange(e) {\n    setName(e.target.value)\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n  \n  return (\n\n    <PopupWithForm\n        name=\"edit\"\n        title=\"Edit profile\"\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}\n      >\n        <input\n          className=\"popup__input\"\n          type=\"text\"\n          id=\"name\"\n          name=\"name\"\n          placeholder=\"Name\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required\n          value={name || ''}\n          onChange={handleNameChange}\n          autoComplete=\"on\"\n        />\n        <span className=\"popup__input-error\" id=\"name-input-error\"></span>\n        <input\n          className=\"popup__input\"\n          type=\"text\"\n          id=\"job\"\n          name=\"job\"\n          placeholder=\"About me\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          required\n          value={description || ''}\n          onChange={handleDescriptionChange}\n          autoComplete=\"on\"\n        />\n        <span className=\"popup__input-error\" id=\"job-input-error\"></span>\n        <button\n          className=\"button button_action_submit button_inactive\"\n          type=\"submit\"\n          value=\"Save\"\n          aria-label=\"submit-edit-profile\"\n        >\n          Save\n        </button>\n      </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup(props) {\n\n  const avatarRef = React.useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef\n    });\n  }\n\n  return (\n    \n    <PopupWithForm\n        name=\"avatar\"\n        title=\"Change profile picture\"\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}\n      >\n        <input\n          className=\"popup__input\"\n          type=\"url\"\n          id=\"avatar\"\n          name=\"avatar\"\n          placeholder=\"Enter link to image\"\n          minLength=\"2\"\n          required\n          ref={avatarRef}\n          autoComplete=\"on\"\n        />\n        <span className=\"popup__input-error\" id=\"avatar-input-error\"></span>\n\n        <button\n          className=\"button button_action_submit button_inactive\"\n          type=\"submit\"\n          value=\"Save\"\n          aria-label=\"submit-change-avatar\"\n        >\n          Save\n        </button>\n      </PopupWithForm>\n\n  )\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n  const [title, setTitle] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleTitleChange(e) {\n    setTitle(e.target.value);\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddNewCard({ title, link })\n  }\n\n  return (\n\n    <PopupWithForm\n      name=\"add\"\n      title=\"New place\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"popup__input\"\n        type=\"text\"\n        id=\"title\"\n        name=\"title\"\n        placeholder=\"Title\"\n        minLength=\"1\"\n        maxLength=\"30\"\n        required\n        onChange={handleTitleChange}\n        autoComplete=\"on\"\n      />\n      <span className=\"popup__input-error\" id=\"title-input-error\"></span>\n      <input\n        className=\"popup__input\"\n        type=\"url\"\n        id=\"link\"\n        name=\"link\"\n        placeholder=\"Image link\"\n        required\n        onChange={handleLinkChange}\n        autoComplete=\"on\"\n      />\n      <span className=\"popup__input-error\" id=\"imageUrl-input-error\"></span>\n      <button\n        className=\"button button_action_submit button_inactive\"\n        type=\"submit\"\n        value=\"Create\"\n        aria-label=\"submit-new-card-modal\"\n      >\n        Create\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport '../blocks/splash-page/splash-page.css';\nimport PopupWithForm from './PopupWithForm';\nimport auth from '../utils/Auth';\n\nfunction Login({ loggedIn, handleLogin, userEmail, setUserEmail, onClose }) {\n  const history = useHistory();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const resetForm = () => {\n    setEmail('');\n    setPassword('');\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    auth\n      .authorize(email, password)\n      .then((data) => {\n        if (!email || !password) {\n          throw new Error('400 - one or more of the fields were not provided');\n        }\n        if (!data) {\n          throw new Error('401 - the user with the specified email not found');\n        }\n        if (data.token) {\n          handleLogin();\n        } \n      })\n      .then(() => {\n        resetForm();\n      })\n      .then(() => {\n        history.push('/around');\n      })\n      .catch((err) => console.log(err.message));\n  };\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      history.push('/around');\n      setUserEmail(email || userEmail);\n    }\n  });\n\n  return (\n    <>\n      <Link className='splash-page__call-out' to='/signup'>\n        Sign up\n      </Link>\n      <PopupWithForm\n        name='signin'\n        title='Log in'\n        isOpen={true}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n      >\n        <input\n          className='splash-page__input'\n          type='email'\n          id='email'\n          name='email'\n          placeholder='Email'\n          minLength='2'\n          maxLength='40'\n          required\n          value={email || ''}\n          onChange={(e) => setEmail(e.target.value)}\n          autoComplete='on'\n        />\n        <input\n          className='splash-page__input'\n          type='password'\n          id='password'\n          name='password'\n          placeholder='Password'\n          minLength='2'\n          maxLength='200'\n          required\n          value={password || ''}\n          onChange={(e) => setPassword(e.target.value)}\n          autoComplete='on'\n        />\n        <button\n          className='splash-page__submit'\n          onClick={handleSubmit}\n          to='/around'\n        >\n          Log in\n        </button>\n        <Link className='splash-page__text' to='/signup'>\n          Not a member yet? Sign up here!\n        </Link>\n      </PopupWithForm>\n    </>\n  );\n}\n\nexport default Login;\n","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport '../blocks/splash-page/splash-page.css';\nimport PopupWithForm from './PopupWithForm';\nimport auth from '../utils/Auth';\n\nfunction Register({ handleToolTip, handleLogin, onClose }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const history = useHistory();\n\n  const resetForm = () => {\n    setEmail('');\n    setPassword('');\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    auth.register(email, password)\n      .then((res) => {\n        if (!res.data) {\n          handleToolTip('failure');\n          throw new Error(`400 - ${res.message ? res.message : res.error}`);\n        }})\n        .then((res) => {\n          history.push('/signin');\n          return res;\n        })\n        .then((res) => {\n          handleToolTip('success');\n          return res;\n        })\n      .then(resetForm)\n      .catch(err => {\n        console.log(err)\n      });\n  }\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) { \n      history.push('/around');\n    }\n  }, [history]);\n\n  return (\n      <>\n        <Link className='splash-page__call-out' to='/signin'>\n          Log in\n        </Link>\n        <PopupWithForm\n          name='signup'\n          title='Sign up'\n          isOpen={true}\n          onClose={onClose}\n          onSubmit={handleSubmit}\n        >\n          <input\n            className='splash-page__input'\n            type='email'\n            id='email'\n            name='email'\n            placeholder='Email'\n            required\n            value={email || ''}\n            onChange={e => setEmail(e.target.value)}\n            autoComplete=\"on\"\n          />\n          <input\n            className='splash-page__input'\n            type='password'\n            id='password'\n            name='password'\n            placeholder='Password'\n            minLength='2'\n            maxLength='200'\n            required\n            value={password || ''}\n            onChange={e => setPassword(e.target.value)}\n            autoComplete=\"on\"\n          />\n          <button\n            className='splash-page__submit'\n            onClick={handleSubmit}\n            to='/around'\n          >\n            Sign up\n          </button>\n          <Link className='splash-page__text' to='/signin'>\n            Already a member? Log in here!\n          </Link>\n        </PopupWithForm>\n      </>\n    );\n  }\n\nexport default Register;\n\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport checkmark from '../images/checkmark.svg';\nimport redX from '../images/redX.svg';\n\nfunction InfoToolTip(props) {\n  return (\n    <PopupWithForm name='tooltip' isOpen={props.isOpen} onClose={props.onClose}>\n      <img\n        className='popup__tooltip-icon'\n        src={props.mode === 'success' ? checkmark : redX}\n        alt='check mark'\n      />\n      <h2 className='popup__tooltip-title'>\n        {props.mode === 'success'\n          ? 'Success! You have now been registered'\n          : 'Oops, something went wrong! Please try again.'}\n      </h2>\n    </PopupWithForm>\n  );\n}\n\nexport default InfoToolTip;\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  useHistory,\n  Redirect,\n} from 'react-router-dom';\nimport Header from './Header';\nimport ProtectedRoute from './ProtectedRoute';\nimport Main from './Main';\nimport Footer from './Footer';\nimport api from '../utils/Api';\nimport auth from '../utils/Auth';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoToolTip from './InfoToolTip';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState(null);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userEmail, setUserEmail] = React.useState(false);\n  const [tooltipMode, setTooltipMode] = React.useState(false);\n\n  const history = useHistory();\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleLogin() {\n    setLoggedIn(true);\n  }\n\n  function handleToolTip(mode) {\n    setTooltipMode(mode);\n    setIsInfoToolTipOpen(true);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .updateLikes(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards(cards.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .setUserInfo({ name, about })\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => console.log(err));\n    closeAllPopups();\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .setAvatar(avatar.current.value)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => console.log(err));\n    closeAllPopups();\n  }\n\n  function handleAddNewCard({ title, link }) {\n    api\n      .addNewCard({ title, link })\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n      })\n      .catch((err) => console.log(err));\n    closeAllPopups();\n  }\n\n  // function handleLoginSubmit(e) {\n  //   e.preventDefault();\n  //   auth\n  //     .authorize(email, password)\n  //     .then((data) => {\n  //       if (!email || !password) {\n  //         throw new Error('400 - one or more of the fields were not provided');\n  //       }\n  //       if (!data) {\n  //         throw new Error('401 - the user with the specified email not found');\n  //       }\n  //       if (data.token) {\n  //         handleLogin();\n  //       } \n  //     })\n  //     .then(() => {\n  //       resetForm();\n  //     })\n  //     .then(() => {\n  //       history.push('/around');\n  //     })\n  //     .catch((err) => console.log(err.message));\n  // };\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsInfoToolTipOpen(false);\n    setSelectedCard(null);\n  }\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      auth\n        .getContent(token)\n        .then((res) => {\n          setLoggedIn(true);\n          setUserEmail(res.data.email);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      setLoggedIn(false);\n    }\n  }, []);\n\n  const onSignOut = () => {\n    localStorage.removeItem('token');\n    setLoggedIn(false);\n    history.push('/signin');\n  };\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n        api\n          .getCardList()\n          .then((data) => {\n            if (data) {\n              setCards((cards) => [...cards, ...data]);\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Router>\n        <Header\n          userEmail={userEmail}\n          loggedIn={loggedIn}\n          handleSignOut={onSignOut}\n        />\n        <Switch>\n          <Route exact path='/signin'>\n            <Login\n              loggedIn={loggedIn}\n              userEmail={setUserEmail}\n              setUserEmail={setUserEmail}\n              handleLogin={handleLogin}\n              handleToolTip={handleToolTip}\n            />\n            <InfoToolTip\n              isOpen={isInfoToolTipOpen}\n              onClose={closeAllPopups}\n              loggedIn={loggedIn}\n              mode={tooltipMode}\n            />\n          </Route>\n          <Route exact path='/signup'>\n            <Register\n              setUserEmail={setUserEmail}\n              handleLogin={handleLogin}\n              handleToolTip={handleToolTip}\n            />\n            <InfoToolTip\n              isOpen={isInfoToolTipOpen}\n              onClose={closeAllPopups}\n              loggedIn={loggedIn}\n              mode={tooltipMode}\n            />\n          </Route>\n          <Route exact path='/'>\n            {loggedIn ? <Redirect to='/around' /> : <Redirect to='/signin' />}\n          </Route>\n          <Route path='/around'>\n            <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar}\n            />\n            <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n            />\n            <AddPlacePopup\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              onAddNewCard={handleAddNewCard}\n            />\n            <ProtectedRoute\n              path='/around'\n              loggedIn={loggedIn}\n              component={Main}\n              onCloseButtons={closeAllPopups}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              isAddPlacePopupOpen={isAddPlacePopupOpen}\n              isEditAvatarPopupOpen={isEditAvatarPopupOpen}\n              cards={cards}\n              selectedCard={selectedCard}\n            />\n            <Footer />\n          </Route>\n          <Redirect from='*' to='/' />\n        </Switch>\n      </Router>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const BASE_URL = 'https://register.nomoreparties.co';\n\nmodule.exports.register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      Acccept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  }).then((res) => {\n    return res.json();\n  });\n};\n\nmodule.exports.authorize = (identifier, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      Acccept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email: identifier, password: password }),\n  })\n    .then((res) => {\n      return res.json();\n    })\n    .then((data) => {\n      if (!data.message) {\n        localStorage.setItem('token', data.token);\n        return data;\n      }\n    });\n};\n\nmodule.exports.getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  }).then((res) => {\n    return res.ok\n      ? res.json()\n      : Promise.reject(`${res.status} - ${res.message}`);\n  });\n  // .then((data) => data)\n  // .catch((err) => console.log(err))\n};\n"],"sourceRoot":""}