{"version":3,"sources":["utils/Auth.js","images/icons/header-logo.svg","images/checkmark.svg","images/redX.svg","components/HeaderLinks.js","components/Header.js","components/ProtectedRoute.js","contexts/CurrentUserContext.js","components/Card.js","components/PopupWithForm.js","components/PopupWithImage.js","components/Main.js","components/Footer.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/InfoToolTip.js","components/App.js","serviceWorker.js","index.js"],"names":["BASE_URL","module","exports","register","email","password","fetch","method","headers","Acccept","body","JSON","stringify","then","res","json","authorize","identifier","data","message","localStorage","setItem","token","getContent","Accept","Authorization","ok","Promise","reject","status","catch","err","console","log","HeaderLinks","loggedIn","userEmail","handleSignOut","className","onClick","to","Header","src","headerLogo","alt","ProtectedRoute","Component","component","props","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwned","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","includes","cardLikeButtonClassName","key","style","backgroundImage","link","onCardClick","aria-label","onCardDelete","name","onCardLike","length","PopupWithForm","isOpen","startsWith","type","onClose","title","id","action","noValidate","onSubmit","children","PopupWithImage","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","onCloseButtons","value","selectedCard","Footer","api","options","this","baseUrl","cardId","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","minLength","maxLength","required","onChange","target","autoComplete","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","ref","AddPlacePopup","setTitle","setLink","onAddNewCard","Login","setEmail","setPassword","handleLoginSubmit","setUserEmail","history","useHistory","push","Register","registered","handleRegisterSubmit","getItem","InfoToolTip","mode","checkmark","redX","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isInfoToolTipOpen","setIsInfoToolTipOpen","setCards","setSelectedCard","setCurrentUser","setLoggedIn","tooltipMode","setTooltipMode","setRegistered","setToken","resetForm","handleLogin","handleToolTip","closeAllPopups","auth","getUserInfo","getCardList","Provider","removeItem","exact","path","Error","error","setAvatar","current","setUserInfo","addNewCard","newCard","updateLikes","newCards","c","deleteCard","filter","from","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","basename","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ebe8fb83.chunk.js","sourcesContent":["const BASE_URL = 'https://register.nomoreparties.co';\n// const BASE_URL = 'http://localhost:3001';\n\nmodule.exports.register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      Acccept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  }).then((res) => {\n    return res.json();\n  });\n};\n\nmodule.exports.authorize = (identifier, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      Acccept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email: identifier, password: password }),\n  })\n    .then((res) => {\n      return res.json();\n    })\n    .then((data) => {\n      if (!data.message) {\n        localStorage.setItem('token', data.token);\n        return data;\n      }\n    });\n};\n\nmodule.exports.getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  }).then((res) => {\n    return res.ok\n      ? res.json()\n      : Promise.reject(`${res.status} - ${res.message}`);\n  })\n  .then((data) => {\n    return data\n  })\n  .catch((err) => console.log(err))\n};\n","module.exports = __webpack_public_path__ + \"static/media/header-logo.71ad3aff.svg\";","module.exports = __webpack_public_path__ + \"static/media/checkmark.75df9ada.svg\";","module.exports = __webpack_public_path__ + \"static/media/redX.db56ee32.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction HeaderLinks({ loggedIn, userEmail, handleSignOut }) {\n  return (\n    <>\n      {loggedIn && (\n        <ul className='header__links'>\n          <li className='header__email'>{userEmail}</li>\n          <li>\n            <Link className='header__link' onClick={handleSignOut} to='/signin'>\n              Log out\n            </Link>\n          </li>\n        </ul>)}\n    </>\n  );\n}\n\nexport default HeaderLinks;\n","import React from 'react';\nimport HeaderLink from './HeaderLinks.js'\nimport headerLogo from '../images/icons/header-logo.svg';\n\nfunction Header({ userEmail, loggedIn, handleSignOut }) {\n  return (\n    <header className=\"header\">\n      <img\n        className=\"header__logo\"\n        src={headerLogo}\n        alt=\"Around the U.S. Logo\"\n      />\n      <HeaderLink loggedIn={loggedIn} userEmail={userEmail} handleSignOut={handleSignOut}/>\n    </header>\n  )\n}\n\nexport default Header; ","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to='/signin' />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwned = currentUser && (props.card.owner === currentUser._id);\n  const cardDeleteButtonClassName = (\n    `place__delete-btn ${!isOwned && 'place__delete-btn_hidden'}`\n  );\n\n  const isLiked = currentUser && props.card.likes.includes(currentUser._id);\n  const cardLikeButtonClassName = `place__like-btn ${isLiked && 'place__like-btn_clicked'}`;\n\n  return (\n    <li key={props.card._id} className=\"place\">\n      <div\n        className=\"place__image\"\n        style={{ backgroundImage: `url(${props.card.link})` }}\n        onClick={() => {\n          props.onCardClick(props.card);\n        }}\n      ></div>\n      <button\n        className={cardDeleteButtonClassName}\n        aria-label=\"delete-card\"\n        onClick={() => {\n          props.onCardDelete(props.card);\n        }}\n      ></button>\n      <div className=\"place__footer\">\n        <h2 className=\"place__name\">{props.card.name}</h2>\n        <div className=\"place__like-container\">\n          <button\n            className={`${cardLikeButtonClassName}${isLiked ? ' place__like-btn_clicked' : ''}`}\n            aria-label=\"like-or-unlike-card\"\n            onClick={() => {\n            \n              props.onCardLike(props.card);\n            }}\n          ></button>\n          <p className=\"place__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <>\n      <div\n        className={\n          'popup__overlay' +\n          (props.isOpen && !props.name.startsWith('sign')\n            ? ' popup__overlay_visible'\n            : '')\n        }\n      ></div>\n      <div\n        className={\n          `popup__container popup__container_type_${props.name}` +\n          (props.isOpen ? ' popup__container_visible' : '') +\n          (props.name.startsWith('sign') ? ' splash-page' : '')\n        }\n      >\n        <button\n          className={\n            'button button_action_close' +\n            (props.name.startsWith('sign') ? ' button_hidden' : '')\n          }\n          type='reset'\n          aria-label={`close-${props.name}-modal`}\n          onClick={props.onClose}\n        ></button>\n        <h2 className={props.name.startsWith('sign') ? 'splash-page__title' : 'popup__title'}>{props.title}</h2>\n        <form\n          id={`${props.name}-form`}\n          name={`${props.name}Form`}\n          className='popup__form'\n          action='#'\n          noValidate\n          onSubmit={props.onSubmit}\n        >\n          {props.children}\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\n\nfunction PopupWithImage(props) {\n  return (\n    <>\n      <div\n        className={\n          \"popup__overlay\" + (props.card ? \" popup__overlay_visible\" : \"\")\n        }\n      ></div>\n      <figure\n        className={\n          \"popup__image-container popup__container_type_image\" +\n          (props.card ? \" popup__image-container_visible\" : \"\")\n        }\n      >\n        <button\n          className=\"button button_action_close\"\n          type=\"reset\"\n          aria-label=\"close-image-popup\"\n          onClick={props.onClose}\n        ></button>\n        <img\n          src={props.card ? props.card.link : \"\"}\n          alt={props.card ? props.card.title : \"\"}\n          className=\"popup__image\"\n        />\n        <figcaption className=\"popup__image-caption\">\n          {props.card ? props.card.title : \"\"}\n        </figcaption>\n      </figure>\n    </>\n  );\n}\n\nexport default PopupWithImage;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport PopupWithImage from \"./PopupWithImage\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div>\n          <img\n            src={currentUser && currentUser.avatar}\n            alt=\"Avatar\"\n            className=\"profile__image\"\n            onClick={props.onEditAvatar}\n          />\n          <button\n            className=\"button button_action_change-avatar\"\n            aria-label=\"open-change-avatar-modal\"\n          ></button>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__text\">\n            <h2 className=\"profile__name\">{currentUser && currentUser.name}</h2>\n            <p className=\"profile__job\">{currentUser && currentUser.about}</p>\n          </div>\n          <button\n            className=\"button button_action_edit\"\n            aria-label=\"open-edit-profile-modal\"\n            onClick={props.onEditProfile}\n          ></button>\n        </div>\n        <button\n          className=\"button button_action_add\"\n          aria-label=\"open-new-card-modal\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n\n      <div className=\"places\">\n        <ul className=\"places__grid\">\n          {props.cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </ul>\n      </div>\n\n      <PopupWithForm\n        name=\"delete\"\n        title=\"Are you sure?\"\n        isOpen={false}\n        onClose={props.onCloseButtons}\n      >\n        <button\n          className=\"button button_action_submit\"\n          type=\"submit\"\n          value=\"Save\"\n          aria-label=\"confirm-delete-card\"\n        >\n          Yes\n        </button>\n      </PopupWithForm>\n\n      <PopupWithImage\n        onClose={props.onCloseButtons}\n        card={props.selectedCard}\n      />\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Around The U.S.</p>\n    </footer>\n  )\n}\n\nexport default Footer;","class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  getCardList(token) {\n  \n    return fetch(this.baseUrl + \"/cards\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  getUserInfo(token) {\n    return fetch(this.baseUrl + \"/users/me\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  setAvatar(link, token) {\n    return fetch(this.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        avatar: link,\n      }),\n    }).then((res) => {\n      console.log(res)\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  setUserInfo({ name, about }, token) {\n    return fetch(this.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  addNewCard({ title, link }, token) {\n    return fetch(this.baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        name: title,\n        link,\n      }),\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n\n  deleteCard(cardId, token) {\n    return fetch(this.baseUrl + `/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n    });\n  }\n\n  updateLikes(cardId, isLiked, token) {  \n    const method = isLiked ? \"DELETE\" : \"PUT\";\n    return fetch(\n      this.baseUrl + `/cards/likes/${cardId}`,\n      {\n        method: method,\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n      }\n    ).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-2\",\n  // baseUrl: \"http://localhost:3001\",\n});\n\nexport default api;\n","import React from \"react\";\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n\n  React.useEffect(() => {\n    setName(currentUser && currentUser.name);\n    setDescription(currentUser && currentUser.about);\n  }, [currentUser]);\n\n\n  function handleNameChange(e) {\n    setName(e.target.value)\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n  \n  return (\n\n    <PopupWithForm\n        name=\"edit\"\n        title=\"Edit profile\"\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}\n      >\n        <input\n          className=\"popup__input\"\n          type=\"text\"\n          id=\"name\"\n          name=\"name\"\n          placeholder=\"Name\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required\n          value={name || ''}\n          onChange={handleNameChange}\n          autoComplete=\"on\"\n        />\n        <span className=\"popup__input-error\" id=\"name-input-error\"></span>\n        <input\n          className=\"popup__input\"\n          type=\"text\"\n          id=\"job\"\n          name=\"job\"\n          placeholder=\"About me\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          required\n          value={description || ''}\n          onChange={handleDescriptionChange}\n          autoComplete=\"on\"\n        />\n        <span className=\"popup__input-error\" id=\"job-input-error\"></span>\n        <button\n          className=\"button button_action_submit button_inactive\"\n          type=\"submit\"\n          value=\"Save\"\n          aria-label=\"submit-edit-profile\"\n        >\n          Save\n        </button>\n      </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup(props) {\n\n  const avatarRef = React.useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef\n    });\n  }\n\n  return (\n    \n    <PopupWithForm\n        name=\"avatar\"\n        title=\"Change profile picture\"\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n        onSubmit={handleSubmit}\n      >\n        <input\n          className=\"popup__input\"\n          type=\"url\"\n          id=\"avatar\"\n          name=\"avatar\"\n          placeholder=\"Enter link to image\"\n          minLength=\"2\"\n          required\n          ref={avatarRef}\n          autoComplete=\"on\"\n        />\n        <span className=\"popup__input-error\" id=\"avatar-input-error\"></span>\n\n        <button\n          className=\"button button_action_submit button_inactive\"\n          type=\"submit\"\n          value=\"Save\"\n          aria-label=\"submit-change-avatar\"\n        >\n          Save\n        </button>\n      </PopupWithForm>\n\n  )\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\n  const [title, setTitle] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleTitleChange(e) {\n    setTitle(e.target.value);\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddNewCard({ title, link })\n  }\n\n  return (\n\n    <PopupWithForm\n      name=\"add\"\n      title=\"New place\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"popup__input\"\n        type=\"text\"\n        id=\"title\"\n        name=\"title\"\n        placeholder=\"Title\"\n        minLength=\"1\"\n        maxLength=\"30\"\n        required\n        onChange={handleTitleChange}\n        autoComplete=\"on\"\n      />\n      <span className=\"popup__input-error\" id=\"title-input-error\"></span>\n      <input\n        className=\"popup__input\"\n        type=\"url\"\n        id=\"link\"\n        name=\"link\"\n        placeholder=\"Image link\"\n        required\n        onChange={handleLinkChange}\n        autoComplete=\"on\"\n      />\n      <span className=\"popup__input-error\" id=\"imageUrl-input-error\"></span>\n      <button\n        className=\"button button_action_submit button_inactive\"\n        type=\"submit\"\n        value=\"Create\"\n        aria-label=\"submit-new-card-modal\"\n      >\n        Create\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport '../blocks/splash-page/splash-page.css';\nimport PopupWithForm from './PopupWithForm';\nimport auth from '../utils/Auth';\n\nfunction Login({ loggedIn, email, setEmail, password, setPassword, handleLoginSubmit, userEmail, setUserEmail, onClose }) {\n  const history = useHistory();\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      history.push('/around');\n      setUserEmail(email || userEmail);\n    }\n  });\n\n  return (\n    <>\n      <Link className='splash-page__call-out' to='/signup'>\n        Sign up\n      </Link>\n      <PopupWithForm\n        name='signin'\n        title='Log in'\n        isOpen={true}\n        onClose={onClose}\n        onSubmit={handleLoginSubmit}\n      >\n        <input\n          className='splash-page__input'\n          type='email'\n          id='email'\n          name='email'\n          placeholder='Email'\n          minLength='2'\n          maxLength='40'\n          required\n          value={email || ''}\n          onChange={(e) => setEmail(e.target.value)}\n          autoComplete='on'\n        />\n        <input\n          className='splash-page__input'\n          type='password'\n          id='password'\n          name='password'\n          placeholder='Password'\n          minLength='2'\n          maxLength='200'\n          required\n          value={password || ''}\n          onChange={(e) => setPassword(e.target.value)}\n          autoComplete='on'\n        />\n        <button\n          className='splash-page__submit'\n          to='/around'\n        >\n          Log in\n        </button>\n        <Link className='splash-page__text' to='/signup'>\n          Not a member yet? Sign up here!\n        </Link>\n      </PopupWithForm>\n    </>\n  );\n}\n\nexport default Login;\n","import React, { useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport '../blocks/splash-page/splash-page.css';\nimport PopupWithForm from './PopupWithForm';\n\nfunction Register({ registered, handleRegisterSubmit, email, setEmail, password, setPassword, onClose }) {\n\n  const history = useHistory();\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) { \n      history.push('/around');\n    }\n  }, [history]);\n\n  useEffect(() => {\n    if (registered) {\n     \n      history.push('/signin');\n    }\n  }, [history, registered]);\n\n  return (\n      <>\n        <Link className='splash-page__call-out' to='/signin'>\n          Log in\n        </Link>\n        <PopupWithForm\n          name='signup'\n          title='Sign up'\n          isOpen={true}\n          onClose={onClose}\n          onSubmit={handleRegisterSubmit}\n        >\n          <input\n            className='splash-page__input'\n            type='email'\n            id='email'\n            name='email'\n            placeholder='Email'\n            required\n            value={email || ''}\n            onChange={e => setEmail(e.target.value)}\n            autoComplete=\"on\"\n          />\n          <input\n            className='splash-page__input'\n            type='password'\n            id='password'\n            name='password'\n            placeholder='Password'\n            minLength='2'\n            maxLength='200'\n            required\n            value={password || ''}\n            onChange={e => setPassword(e.target.value)}\n            autoComplete=\"on\"\n          />\n          <button\n            className='splash-page__submit'\n            // onClick={handleSubmit}\n            to='/around'\n          >\n            Sign up\n          </button>\n          <Link className='splash-page__text' to='/signin'>\n            Already a member? Log in here!\n          </Link>\n        </PopupWithForm>\n      </>\n    );\n  }\n\nexport default Register;\n\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport checkmark from '../images/checkmark.svg';\nimport redX from '../images/redX.svg';\n\nfunction InfoToolTip(props) {\n  return (\n    <PopupWithForm name='tooltip' isOpen={props.isOpen} onClose={props.onClose}>\n      <img\n        className='popup__tooltip-icon'\n        src={props.mode === 'success' ? checkmark : redX}\n        alt='check mark'\n      />\n      <h2 className='popup__tooltip-title'>\n        {props.mode === 'success'\n          ? 'Success! You have now been registered'\n          : 'Oops, something went wrong! Please try again.'}\n      </h2>\n    </PopupWithForm>\n  );\n}\n\nexport default InfoToolTip;\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  useHistory,\n  Redirect,\n} from 'react-router-dom';\nimport Header from './Header';\nimport ProtectedRoute from './ProtectedRoute';\nimport Main from './Main';\nimport Footer from './Footer';\nimport api from '../utils/Api';\nimport auth from '../utils/Auth';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoToolTip from './InfoToolTip';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState(null);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userEmail, setUserEmail] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n  const [tooltipMode, setTooltipMode] = React.useState(false);\n  const [password, setPassword] = React.useState('');\n  const [registered, setRegistered] = React.useState(false);\n  const [token, setToken] = React.useState(localStorage.getItem('token'));\n\n  const resetForm = () => {\n    setEmail('');\n    setPassword('');\n  };\n\n  const history = useHistory();\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleLogin() {\n    setLoggedIn(true);\n  }\n\n  function handleToolTip(mode) {\n    setTooltipMode(mode);\n    setIsInfoToolTipOpen(true);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.includes(currentUser._id);\n    api\n      .updateLikes(card._id, isLiked, token)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id, token)\n      .then(() => {\n        setCards(cards.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .setUserInfo({ name, about }, token)\n      .then((res) => {\n        setCurrentUser(res.data);\n      })\n      .catch((err) => console.log(err));\n    closeAllPopups();\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    debugger;\n    api\n      .setAvatar(avatar.current.value, token)\n      .then((res) => {\n        setCurrentUser(res.data);\n      })\n      .catch((err) => console.log(err));\n    closeAllPopups();\n  }\n\n  function handleAddNewCard({ title, link }) {\n    api\n      .addNewCard({ title, link }, token)\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n      })\n      .catch((err) => console.log(err));\n    closeAllPopups();\n  }\n\n  const handleLoginSubmit = (e) => {\n    e.preventDefault();\n    const [email, password] = [e.target.email.value, e.target.password.value];\n    auth\n      .authorize(email, password)\n      .then((data) => {      \n        if (data && data.token) {\n          setToken(data.token);\n          localStorage.setItem('token', data.token);\n          handleLogin();\n        } else {\n          resetForm();\n          if (!email || !password) {\n            throw new Error('400 - one or more of the fields were not provided');\n          }\n          if (!data) {\n            throw new Error('401 - bad email or password');\n          }\n        }\n      })\n      .then(() => {\n        resetForm();\n      })\n      .then(() => {\n        history.push('/around');\n      })\n      .catch((err) => console.log(err.message));\n  };\n\n    const handleRegisterSubmit = (e) => {\n      e.preventDefault();\n      auth.register(email, password)\n        .then((res) => {\n          if (!res.data) {\n            handleToolTip('failure');\n            throw new Error(`400 - ${res.message ? res.message : res.error}`);\n          }})\n          .then((res) => {\n            setRegistered(true);\n            history.push('/signin');\n            return res;\n          })\n          .then((res) => {\n            handleToolTip('success');\n            return res;\n          })\n        .then(resetForm)\n        .catch(err => {\n          console.log(err)\n        });\n    }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsInfoToolTipOpen(false);\n    setSelectedCard(null);\n  }\n\n  React.useEffect(() => {\n    if (token) {\n      auth\n        .getContent(token)\n        .then((res) => {\n          setLoggedIn(true);\n          setUserEmail(res.data.email);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      setLoggedIn(false);\n    }\n  }, []);\n\n  const onSignOut = () => {\n    localStorage.removeItem('token');\n    setLoggedIn(false);\n    history.push('/signin');\n  };\n\n  React.useEffect(() => {\n    api\n      .getUserInfo(token)\n      .then((res) => {\n        setCurrentUser(res.data);\n        api\n          .getCardList(token)\n          .then((res) => {\n            if (res.data) {\n              setCards((cards) => res.data);\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [token]);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Router>\n        <Header\n          userEmail={userEmail}\n          loggedIn={loggedIn}\n          handleSignOut={onSignOut}\n        />\n        <Switch>\n          <Route exact path='/signin'>\n            <Login\n              loggedIn={loggedIn}\n              email={email}\n              setEmail={setEmail}\n              password={password}\n              setPassword={setPassword}\n              userEmail={setUserEmail}\n              setUserEmail={setUserEmail}\n              handleLogin={handleLogin}\n              handleLoginSubmit={handleLoginSubmit}\n              handleToolTip={handleToolTip}\n            />\n            <InfoToolTip\n              isOpen={isInfoToolTipOpen}\n              onClose={closeAllPopups}\n              loggedIn={loggedIn}\n              mode={tooltipMode}\n            />\n          </Route>\n          <Route exact path='/signup'>\n            <Register\n              registered={registered}\n              email={email}\n              setEmail={setEmail}\n              password={password}\n              setPassword={setPassword}\n              handleRegisterSubmit={handleRegisterSubmit}\n              setUserEmail={setUserEmail}\n              handleLogin={handleLogin}\n              handleToolTip={handleToolTip}\n            />\n            <InfoToolTip\n              isOpen={isInfoToolTipOpen}\n              onClose={closeAllPopups}\n              loggedIn={loggedIn}\n              mode={tooltipMode}\n            />\n          </Route>\n          <Route exact path='/'>\n            {loggedIn ? <Redirect to='/around' /> : <Redirect to='/signin' />}\n          </Route>\n          <Route path='/around'>\n            <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar}\n            />\n            <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n            />\n            <AddPlacePopup\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              onAddNewCard={handleAddNewCard}\n            />\n            <ProtectedRoute\n              path='/around'\n              loggedIn={loggedIn}\n              component={Main}\n              onCloseButtons={closeAllPopups}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              isAddPlacePopupOpen={isAddPlacePopupOpen}\n              isEditAvatarPopupOpen={isEditAvatarPopupOpen}\n              cards={cards}\n              selectedCard={selectedCard}\n            />\n            <Footer />\n          </Route>\n          <Redirect from='*' to='/' />\n        </Switch>\n      </Router>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"around-react\">\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}